using Controller;using Model;namespace MAUI;public partial class RaceSimulator {    private Grid _grid;    public RaceSimulator() {        Images.Initialize();        InitialiseGrid();        DrawTrack();        Images.Direction = Data.currentRace.Track.startDirection;        Title = ("The great " + Data.currentRace.Track.name + " Race of " + DateTime.Now.Year);        Label title = new Label {            Text = Data.currentRace.Track.name,            FontSize = 30,            HorizontalOptions = LayoutOptions.Center,            VerticalOptions = LayoutOptions.Center,            TextColor = Colors.Black        };        _grid.SetColumnSpan(title, Images.XSize);        _grid.Add(title);        _grid.BackgroundColor = Color.FromArgb(Data.currentRace.Track.backgroundColorMaui.ToArgbHex());        Content = _grid;    }    private void InitialiseGrid() {        _grid = new Grid();        //For the track name        _grid.RowDefinitions.Add(new RowDefinition { Height = new GridLength(75) });        //Set columns        for(int i = 0; i != Images.XSize; i++) {            _grid.ColumnDefinitions.Add(new ColumnDefinition { Width = new GridLength(80) });        }                //Set rows        for(int i = 0; i != Images.YSize; i++) {            _grid.RowDefinitions.Add(new RowDefinition { Height = new GridLength(80) });        }    }    private void DrawTrack() {        //Set start position        Images.SetStartLocation();                //For each tile        try {            foreach (Section section in Data.currentRace.Track.Sections) {                DrawSection(section);                switch (Images.Direction) {                    case Direction.North:                        Images.Y--;                        break;                    case Direction.East:                        Images.X++;                        break;                    case Direction.South:                        Images.Y++;                        break;                    case Direction.West:                        Images.X--;                        break;                }                Console.WriteLine("Drawing section: " + section.sectionType + " at " + Images.X + "," + Images.Y);            }        } catch (Exception e) {            Console.WriteLine("The track is not valid: ("+ Images.X + "," + Images.Y + ")");            Console.WriteLine(e);        }            }    private void DrawSection(Section section) {        _grid.Add(new Image {            Source = Images.GetImageSource(section)        },  Images.X,  Images.Y);        Images.Direction = Images.SetDirection(section);    }}